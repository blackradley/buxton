http://articles.slicehost.com/2007/9/4/ubuntu-lts-setup-page-1

scp -P 2020 ~/.ssh/id_rsa.pub deploy@78.109.167.172:~/.ssh/authorized_keys

mkdir -p public_html/impactengine.org.uk

sudo aptitude update
sudo aptitude install nano
sudo nano /etc/apache2/sites-available/impactengine.org.uk

<VirtualHost *:80>
  ServerName impactengine.org.uk
  ServerAlias www.impactengine.org.uk
  DocumentRoot /home/deploy/public_html/impactengine.org.uk/current/public
</VirtualHost>

sudo a2ensite impactengine.org.uk
sudo a2dissite default
sudo mkdir /etc/apache2/conf.d.disabled
sudo mv /etc/apache2/conf.d/zz010_psa_httpd.conf /etc/apache2/conf.d.disabled/

<!-- sudo aptitude install ruby
sudo aptitude install rubygems -->
<!-- sudo gem install rubygems-update
sudo update_rubygems
sudo /var/lib/gems/1.8/bin/update_rubygems
sudo rm /usr/bin/gem
sudo ln /usr/bin/gem1.8 /usr/bin/gem -->

<!-- sudo aptitude install ruby1.8-dev -->

<!-- sudo gem install passenger --no-ri --no-rdoc -->
<!-- sudo passenger-install-apache2-module -->

cd /tmp
wget http://rubyforge.org/frs/download.php/51100/ruby-enterprise-1.8.6-20090201.tar.gz
tar xzvf ruby-enterprise
sudo aptitude install build-essential
sudo aptitude install zlib1g-dev
sudo aptitude install libssl-dev
sudo aptitude install libreadline5-dev
sudo ./ruby-enterprise-1.8.6-20090201/installer
sudo aptitude install libmysqlclient15-dev
sudo aptitude install apache2-prefork-dev
env ARCHFLAGS="-arch x86_64" sudo /opt/ruby-enterprise-1.8.6-20090201/bin/ruby /opt/ruby-enterprise-1.8.6-20090201/bin/gem install mysql

nano ~/.bash_profile
--
export PATH=/opt/ruby-enterprise-1.8.6-20090201/bin:$PATH
--
source ~/.bash_profile
sudo ln -s /opt/ruby-enterprise-1.8.6-20090201/bin/ruby /usr/bin/ruby
sudo ln -s /opt/ruby-enterprise-1.8.6-20090201/bin/rake /usr/bin/rake

sudo /opt/ruby-enterprise-1.8.6-20090201/bin/passenger-install-apache2-module

sudo nano /etc/apache2/conf.d/passenger.conf
--
LoadModule passenger_module /opt/ruby-enterprise-1.8.6-20090201/lib/ruby/gems/1.8/gems/passenger-2.0.6/ext/apache2/mod_passenger.so
PassengerRoot /opt/ruby-enterprise-1.8.6-20090201/lib/ruby/gems/1.8/gems/passenger-2.0.6
PassengerRuby /opt/ruby-enterprise-1.8.6-20090201/bin/ruby
--
sudo /etc/init.d/apache2 reload
sudo aptitude install subversion

==
cap staging deploy:setup
cap staging deploy:check
==

cd public_html/impactengine.org.uk
mkdir -p shared/config
mkdir -p shared/public/images/organisations
nano shared/config/database.yml

production:
  adapter: mysql
  database: buxton_production
  username: admin
  password: qTfyoQ2E
  host: localhost
  encoding: utf8

sudo aptitude install imagemagick
sudo aptitude install libmagick9-dev
sudo /opt/ruby-enterprise-1.8.6-20090201/bin/ruby /opt/ruby-enterprise-1.8.6-20090201/bin/gem install rmagick --no-ri --no-rdoc
sudo /opt/ruby-enterprise-1.8.6-20090201/bin/ruby /opt/ruby-enterprise-1.8.6-20090201/bin/gem install pdf-writer --no-ri --no-rdoc

exit
cap production deploy

cd ~/public_html/impactengine.org.uk/current
mysql -uadmin -p
create database buxton_production;
exit
RAILS_ENV=production rake db:schema:load

------

Monitoring:
Disable FTP
Disable POP3