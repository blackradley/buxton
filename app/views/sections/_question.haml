-if question[:dependency]
  -displayString = "none"
  -if @activity.send(question[:dependency][0][0].to_sym)
    -if @activity.send(question[:dependency][0][0].to_sym).to_s == question[:dependency][0][1]
      -displayString = "block"
    
  %p.question.sub{:id => "#{question[:id]}", :style => "display:#{displayString};", 'data-dependencies' => Hash[question[:dependents]].to_json}
    %label
      =question[:label]
    %labelled
      -case question[:input_type]    
        -when :text
          = f.text_area question[:id], :id => question[:name]
        -when :string
          = f.text_field question[:id], :id => question[:name]
        -when :select
          = f.select "#{question[:id]}", question[:input_choices], {}, :id => question[:name]
-else
  %p.question{:id => "#{question[:id]}", :style => "display:block;", 'data-dependencies' => Hash[question[:dependents]].to_json}
    %label
      =question[:label]
    %labelled
      -case question[:input_type]    
        -when :text
          = f.text_area question[:id], :id => question[:name]
        -when :string
          = f.text_field question[:id], :id => question[:name]
        -when :select
          = f.select "#{question[:id]}", question[:input_choices], {},  :id => question[:name]